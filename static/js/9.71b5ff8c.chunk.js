(this["webpackJsonpapollo-fe"]=this["webpackJsonpapollo-fe"]||[]).push([[9],{233:function(e,t,n){e.exports=n.p+"static/media/StarOnIcon.40e8f0df.svg"},234:function(e,t,n){e.exports=n.p+"static/media/StarOffIcon.701fccaf.svg"},240:function(e,t,n){"use strict";n.r(t);var r=n(48),a=n.n(r),o=n(49),i=n(7),c=n(6),l=n(0),u=n.n(l),s=n(4);function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?x(e):t}var j={display:"inline-block",borderRadius:"50%",border:"5px double white",width:30,height:30},w={empty:v({},j,{backgroundColor:"#ccc"}),full:v({},j,{backgroundColor:"black"}),placeholder:v({},j,{backgroundColor:"red"})},E=function(e){return u.a.isValidElement(e)?e:"object"===p(e)&&null!==e?u.a.createElement("span",{style:e}):"[object String]"===Object.prototype.toString.call(e)?u.a.createElement("span",{className:e}):void 0},S=function(e){function t(){return f(this,t),O(this,g(t).apply(this,arguments))}return m(t,e),b(t,[{key:"render",value:function(){var e,t=this.props,n=t.index,r=t.inactiveIcon,a=t.activeIcon,o=t.percent,i=t.direction,c=t.readonly,l=t.onClick,s=t.onMouseMove,p=E(r),f=o<100?{}:{visibility:"hidden"},d=E(a),b=(h(e={display:"inline-block",position:"absolute",overflow:"hidden",top:0},"rtl"===i?"right":"left",0),h(e,"width","".concat(o,"%")),e),y={cursor:c?"inherit":"pointer",display:"inline-block",position:"relative"};function v(e){s&&s(n,e)}function m(e){l&&(e.preventDefault(),l(n,e))}return u.a.createElement("span",{style:y,onClick:m,onMouseMove:v,onTouchMove:v,onTouchEnd:m},u.a.createElement("span",{style:f},p),u.a.createElement("span",{style:b},d))}}]),t}(u.a.PureComponent),C=function(e){function t(e){var n;return f(this,t),(n=O(this,g(t).call(this,e))).state={displayValue:n.props.value,interacting:!1},n.onMouseLeave=n.onMouseLeave.bind(x(x(n))),n.symbolMouseMove=n.symbolMouseMove.bind(x(x(n))),n.symbolClick=n.symbolClick.bind(x(x(n))),n}return m(t,e),b(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props.value!==e.value;this.setState((function(n){return{displayValue:t?e.value:n.displayValue}}))}},{key:"componentDidUpdate",value:function(e,t){if(e.value===this.props.value)return t.interacting&&!this.state.interacting?this.props.onHover():void(this.state.interacting&&this.props.onHover(this.state.displayValue))}},{key:"symbolClick",value:function(e,t){var n=this.calculateDisplayValue(e,t);this.props.onClick(n,t)}},{key:"symbolMouseMove",value:function(e,t){var n=this.calculateDisplayValue(e,t);this.setState({interacting:!this.props.readonly,displayValue:n})}},{key:"onMouseLeave",value:function(){this.setState({displayValue:this.props.value,interacting:!1})}},{key:"calculateDisplayValue",value:function(e,t){var n=this.calculateHoverPercentage(t),r=Math.ceil(n%1*this.props.fractions)/this.props.fractions,a=Math.pow(10,3),o=e+(Math.floor(n)+Math.floor(r*a)/a);return o>0?o>this.props.totalSymbols?this.props.totalSymbols:o:1/this.props.fractions}},{key:"calculateHoverPercentage",value:function(e){var t=e.nativeEvent.type.indexOf("touch")>-1?e.nativeEvent.type.indexOf("touchend")>-1?e.changedTouches[0].clientX:e.touches[0].clientX:e.clientX,n=e.target.getBoundingClientRect(),r="rtl"===this.props.direction?n.right-t:t-n.left;return r<0?0:r/n.width}},{key:"render",value:function(){var e,t=this.props,n=t.readonly,r=t.quiet,a=t.totalSymbols,o=t.value,i=t.placeholderValue,c=t.direction,l=t.emptySymbol,s=t.fullSymbol,p=t.placeholderSymbol,f=t.className,d=t.id,b=t.style,h=t.tabIndex,m=this.state,g=m.displayValue,k=m.interacting,x=[],O=[].concat(l),j=[].concat(s),w=[].concat(p),E=0!==i&&0===o&&!k;e=E?i:r?o:g;for(var C=Math.floor(e),M=0;M<a;M++){var z=void 0;z=M-C<0?100:M-C===0?100*(e-M):0,x.push(u.a.createElement(S,y({key:M,index:M,readonly:n,inactiveIcon:O[M%O.length],activeIcon:E?w[M%j.length]:j[M%j.length],percent:z,direction:c},!n&&{onClick:this.symbolClick,onMouseMove:this.symbolMouseMove,onTouchMove:this.symbolMouseMove,onTouchEnd:this.symbolClick})))}return u.a.createElement("span",y({id:d,style:v({},b,{display:"inline-block",direction:c}),className:f,tabIndex:h,"aria-label":this.props["aria-label"]},!n&&{onMouseLeave:this.onMouseLeave}),x)}}]),t}(u.a.PureComponent);function M(){}M._name="react_rating_noop";var z=function(e){function t(e){var n;return f(this,t),(n=O(this,g(t).call(this,e))).state={value:e.initialRating},n.handleClick=n.handleClick.bind(x(x(n))),n.handleHover=n.handleHover.bind(x(x(n))),n}return m(t,e),b(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({value:e.initialRating})}},{key:"handleClick",value:function(e,t){var n=this,r=this.translateDisplayValueToValue(e);this.props.onClick(r),this.state.value!==r&&this.setState({value:r},(function(){return n.props.onChange(n.state.value)}))}},{key:"handleHover",value:function(e){var t=void 0===e?e:this.translateDisplayValueToValue(e);this.props.onHover(t)}},{key:"translateDisplayValueToValue",value:function(e){var t=e*this.props.step+this.props.start;return t===this.props.start?t+1/this.props.fractions:t}},{key:"tranlateValueToDisplayValue",value:function(e){return void 0===e?0:(e-this.props.start)/this.props.step}},{key:"render",value:function(){var e=this.props,t=e.step,n=e.emptySymbol,r=e.fullSymbol,a=e.placeholderSymbol,o=e.readonly,i=e.quiet,c=e.fractions,l=e.direction,s=e.start,p=e.stop,f=e.id,d=e.className,b=e.style,h=e.tabIndex;return u.a.createElement(C,{id:f,style:b,className:d,tabIndex:h,"aria-label":this.props["aria-label"],totalSymbols:function(e,t,n){return Math.floor((t-e)/n)}(s,p,t),value:this.tranlateValueToDisplayValue(this.state.value),placeholderValue:this.tranlateValueToDisplayValue(this.props.placeholderRating),readonly:o,quiet:i,fractions:c,direction:l,emptySymbol:n,fullSymbol:r,placeholderSymbol:a,onClick:this.handleClick,onHover:this.handleHover})}}]),t}(u.a.PureComponent);z.defaultProps={start:0,stop:5,step:1,readonly:!1,quiet:!1,fractions:1,direction:"ltr",onHover:M,onClick:M,onChange:M,emptySymbol:w.empty,fullSymbol:w.full,placeholderSymbol:w.placeholder};var V=z,P=n(3),T=n(20),D=n(43),_=n(44),I=n(41),H=n(233),R=n.n(H),L=n(234),N=n.n(L),q=n(74);function A(){var e=Object(c.a)(["\n  font-size: 24px;\n  text-align: center;\n"]);return A=function(){return e},e}function U(){var e=Object(c.a)(["\n  margin-bottom: 8px;\n"]);return U=function(){return e},e}function J(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 34px;\n"]);return J=function(){return e},e}function X(){var e=Object(c.a)(["\n  margin: 20px auto 32px;\n"]);return X=function(){return e},e}function F(){var e=Object(c.a)(["\n  margin-bottom: 14px;\n"]);return F=function(){return e},e}function W(){var e=Object(c.a)(["\n  margin-bottom: 24px;\n"]);return W=function(){return e},e}function B(){var e=Object(c.a)(["\n  font-size: 20px;\n  font-weight: bold;\n"]);return B=function(){return e},e}function G(){var e=Object(c.a)(["\n  font-weight: normal;\n  text-align: center;\n  font-size: 36px;\n  margin: 44px 0 67px 0;\n"]);return G=function(){return e},e}var K=s.d.h2(G()),Q=s.d.h3(B()),Y=s.d.p(W()),Z=s.d.div(F()),$=s.d.div(X()),ee=s.d.div(J()),te=s.d.p(U()),ne={visible:{opacity:1,height:273},fadeout:{opacity:0,height:0,transition:{duration:.5,delay:1.5}}},re=Object(s.d)(T.b.div).attrs((function(){return{initial:"visible",variants:ne}}))(A());t.default=function(e){var t=Object(l.useState)(0),n=Object(i.a)(t,2),r=n[0],c=n[1],s=Object(l.useState)(!1),p=Object(i.a)(s,2),f=p[0],d=p[1],b=Object(l.useState)(!1),h=Object(i.a)(b,2),y=h[0],v=h[1],m=Object(P.g)().pathname.match(/[^/](.*)[/]/)[0].slice(0,-1);function g(){return(g=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.post("rating",{url:m,rating:r});case 2:200===e.sent.status&&v(!0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return u.a.createElement(_.a,{size:"sm"},u.a.createElement(K,null,"Twoje odpowiedzi zosta\u0142y przekazane"),y?u.a.createElement(re,{animate:"fadeout"},"Dzi\u0119kujemy!"):u.a.createElement(ee,null,u.a.createElement(Q,null,"Twoja opinia ma znaczenie"),u.a.createElement(Y,null,"Jak oceniasz swoje do\u015bwiadczenie z Apollo?"),u.a.createElement(Z,null,u.a.createElement(V,{emptySymbol:u.a.createElement("img",{src:N.a}),fullSymbol:u.a.createElement("img",{src:R.a}),onClick:function(e){c(e),d(!0)}})),u.a.createElement($,null,u.a.createElement(I.a,{btnType:"secondary",size:"lg",disabled:!f,onClick:function(){return g.apply(this,arguments)}},"Prze\u015blij"))),u.a.createElement(te,null,"Odpowiedzi:"),u.a.createElement(q.a,{url:m}))}},41:function(e,t,n){"use strict";var r=n(6);function a(){var e=Object(r.a)(["\n  ",";\n  ",";\n  \n  min-width: 128px;\n  border-radius: 6px;\n  text-transform: uppercase;\n  font-weight: bold;\n  transition: all 0.2s ease-in-out;\n  cursor: pointer;\n  \n  &:hover {\n    ",";\n  }\n  \n  &:disabled {\n    ",";\n    cursor: not-allowed;\n  }\n  \n  &:active {\n    transform: scale(0.98);\n  }\n"]);return a=function(){return e},e}var o=n(4).d.button(a(),(function(e){var t=e.btnType,n=e.theme;switch(t){case"primary":return"\n        color: ".concat(n.colors.neutral[0],";\n        background: ").concat(n.colors.primary[600],";\n        border: 1px solid transparent;\n        box-shadow: ").concat(n.shadow,";\n      ");case"secondary":return"\n        color: ".concat(n.colors.primary[700],";\n        background: transparent;\n        border: 2px solid ").concat(n.colors.primary[700],";\n      ");case"tertiary":return"\n        color: ".concat(n.colors.neutral[600],";\n        background: transparent;\n        border: none;\n      ");default:return"\n        color: ".concat(n.colors.neutral[0],";\n        background: ").concat(n.colors.primary[600],";\n        border: 1px solid transparent;\n      ")}}),(function(e){switch(e.size){case"sm":return"\n          height: 40px;\n          padding: 0 28px;\n          font-size: 16px;\n        ";case"lg":default:return"\n          height: 48px;\n          padding: 0 32px;\n          font-size: 18px;\n        "}}),(function(e){var t=e.btnType,n=e.theme;switch(t){case"primary":return"\n            background: ".concat(n.colors.primary[700],";\n          ");case"secondary":return"\n            color: ".concat(n.colors.primary[600],";\n            border: 2px solid ").concat(n.colors.primary[600],";\n          ");case"tertiary":return"\n            color: ".concat(n.colors.accent[400],";\n          ");default:return"\n            background: ".concat(n.colors.primary[700],";\n          ")}}),(function(e){var t=e.btnType,n=e.theme;switch(t){case"primary":return"\n            background: ".concat(n.colors.neutral[500],";\n          ");case"secondary":return"\n            color: ".concat(n.colors.neutral[500],";\n            border: 2px solid ").concat(n.colors.neutral[500],";\n          ");case"tertiary":return"\n            color: ".concat(n.colors.neutral[500],";\n          ");default:return"\n            background: ".concat(n.colors.neutral[500],";\n          ")}}));t.a=o},43:function(e,t,n){"use strict";var r=n(58),a=n.n(r).a.create({baseURL:"https://apollo-io-backend.herokuapp.com/api/"});t.a=a},44:function(e,t,n){"use strict";var r=n(6);function a(){var e=Object(r.a)(["\n  width: ",";\n  margin: 0 auto;\n"]);return a=function(){return e},e}var o=n(4).d.div(a(),(function(e){switch(e.size){case"xl":return"1607px";case"lg":return"1366px";case"sm":return"768px"}}));t.a=o},53:function(e,t,n){"use strict";var r=n(6);function a(){var e=Object(r.a)(["\n  position: relative;\n  width: 100%;\n  padding: 32px;\n  margin-bottom: 32px;\n  background: ",";\n  border: 1px solid transparent;\n  border-radius: 16px;\n  box-shadow: ",";\n"]);return a=function(){return e},e}var o=n(4).d.div(a(),(function(e){return e.theme.colors.neutral[0]}),(function(e){return e.theme.shadow}));t.a=o},74:function(e,t,n){"use strict";var r=n(48),a=n.n(r),o=n(49),i=n(7),c=n(94),l=n(66),u=n(6),s=n(0),p=n.n(s),f=n(73),d=n.n(f),b=n(4),h=n(95),y=n(43),v=n(53);function m(){var e=Object(u.a)(["\n  font-size: 14px;\n  color: ",";\n  margin-bottom: 24px;\n"]);return m=function(){return e},e}function g(){var e=Object(u.a)(["\n  font-size: 14px;\n  margin-bottom: 24px;\n"]);return g=function(){return e},e}function k(){var e=Object(u.a)(["\n  font-size: 18px;\n"]);return k=function(){return e},e}var x=b.d.p(k()),O=b.d.p(g()),j=b.d.p(m(),(function(e){return e.theme.colors.neutral[500]}));function w(e){var t,n=Object(l.a)(e),r=Object(c.a)(n);try{var a=function(){var e=t.value;if("text"===e.type)return"continue";e.labels=[],e.data=[],e.answers.forEach((function(t){e.labels.push(t.value),e.data.push(t.count)}))};for(r.s();!(t=r.n()).done;)a()}catch(o){r.e(o)}finally{r.f()}return n}t.a=Object(b.f)((function(e){var t=e.theme,n=e.url,r=Object(s.useState)(),c=Object(i.a)(r,2),l=c[0],u=c[1];return Object(s.useEffect)((function(){function e(){return(e=Object(o.a)(a.a.mark((function e(){var t,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("results/".concat(n));case 2:t=e.sent,(r=t.data)&&(o=w(r),u(o));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(s.useEffect)((function(){var e=setInterval(Object(o.a)(a.a.mark((function e(){var t,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("results/".concat(n));case 2:t=e.sent,(r=t.data)&&(o=w(r),d.a.isEqual(o,l)||u(o));case 5:case"end":return e.stop()}}),e)}))),4e3);return function(){return clearInterval(e)}}),[]),l?p.a.createElement("div",null,l.map((function(e,n){return"text"!==e.type?p.a.createElement(v.a,{key:n},p.a.createElement(x,null,e.title),p.a.createElement(j,null,e.total," odpowiedzi"),p.a.createElement(h.a,{data:{labels:e.labels,datasets:[{backgroundColor:t.colors.primary[400],data:e.data}]},options:{scales:{xAxes:[{gridLines:{color:"rgba(0, 0, 0, 0)"}}],yAxes:[{gridLines:{color:"rgba(0, 0, 0, 0)"},ticks:{min:0}}]},legend:{display:!1}}})):p.a.createElement(v.a,{key:n},p.a.createElement(x,null,e.title),p.a.createElement(j,null,e.total," odpowiedzi"),e.answers.map((function(e,t){return p.a.createElement(O,{key:"".concat(e,"-").concat(t)},e)})))}))):null}))}}]);
//# sourceMappingURL=9.71b5ff8c.chunk.js.map